æ ‡å‡†åº“ï¼š

JSæ ˆå†…å­˜ï¼Œå †å†…å­˜



æ ˆå†…å­˜ï¼šglobalå…¨å±€å¯¹è±¡åœ°å€ï¼Œå¯¹åº”å †å†…å­˜ä¸­çš„å†…å®¹

window

æ ‡å‡†åº“/éæ ‡å‡†åº“



Object() Number() String() Boolean()



ç®€å•æ•°æ®ç±»å‹ï¼Œnumber string boolean

new Number()ä¸Number()çš„åŒºåˆ«æ˜¯

å¸¦newçš„è¿”å›ä¸€ä¸ªå¤æ‚ç±»å‹(Number{1})ï¼Œä¸å¸¦newçš„è¿”å›ä¸€ä¸ªåŸºæœ¬ç±»å‹(1)ã€‚

å¤æ‚æ•°æ®ç±»å‹ï¼Œobject array function

å¸¦ä¸å¸¦newï¼Œä¸€æ ·ï¼Œè¿”å›çš„éƒ½æ˜¯å¤æ‚ç±»å‹



## Array

Arrayæ˜¯å…¨å±€å¯¹è±¡ã€‚

ä¸¤ç§ç”¨æ³•ï¼š

1. var arr = new Array(3)

   ç”Ÿæˆäº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªundefinedçš„æ•°ç»„

2. var arr = new Array(1,2,3)

   ç”Ÿæˆæ•°ç»„[1,2,3]ï¼Œç›¸å½“äºvar arr=[1,2,3]

ä¸ä¸€è‡´æ€§



æ•°ç»„çš„å®šä¹‰ï¼š

å¯¹æˆ‘ä»¬æ¥è¯´ï¼šä¸€ç»„æœ‰åºçš„å€¼çš„ç»„åˆ

å¯¹JSæ¥è¯´ï¼šç”±æ„é€ å‡½æ•°Arrayæ„é€ å‡ºæ¥çš„å¯¹è±¡



æ•°ç»„å’Œå¯¹è±¡çš„æœ¬è´¨åŒºåˆ«ï¼Œä»–ä»¬ç”±ä¸åŒçš„æ„é€ å‡½æ•°æ„é€ è€Œæ¥ï¼Œä»–ä»¬ä¸¤è€…å„è‡ªçš„å…¬ç”¨å±æ€§æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰å›¾æœ‰çœŸç›¸ï¼š

![arrobj-diff](./jsTypePic/arrobj-diff.png)



å…¶å®arrayä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªæ‹¥æœ‰ç‰¹æ®ŠåŸå‹é“¾(ä¸åŒäºobject)çš„å¯¹è±¡ã€‚



éå†æ–¹å¼ï¼š

- for(let i=0;i<length;i++)
- for(let i in array)



ä¼ªæ•°ç»„ï¼š

åŸå‹é“¾ä¸­æ²¡æœ‰Array.prototypeè¿™ä¸€ç¯ï¼Œæ²¡æœ‰pushæ–¹æ³•ï¼Œåˆ™ä¸ºä¼ªæ•°ç»„ã€‚

å‡½æ•°å‚æ•°åˆ—è¡¨ï¼Œargumentsä¸ºä¼ªæ•°ç»„ã€‚



### æ•°ç»„çš„API

==å¤§éƒ¨åˆ†æŠŠå‡½æ•°ä½œä¸ºå‚æ•°çš„éƒ½å¿…é¡»function(value,key)ï¼Œå¸¦keyå’Œvalueå‚æ•°ï¼Œvalueåœ¨å‰==

reduceä¸æ˜¯

> ##### forEach
>
> æ— è¿”å›å€¼,åŠ returnä¹Ÿæ²¡ç”¨
>
> æ¥æ”¶çš„å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯valueï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯keyï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ•°ç»„è‡ªå·±(ä¸€èˆ¬ä¸å†™)

var arr = [1,2,3]

arr.forEach(function(x,y){

â€‹    console.log(â€˜valueâ€™,x)

â€‹    console.log(â€˜keyâ€™,y)

})

arr.forEach(function(x,y,self))

forEachå‡½æ•°æ¥æ”¶å‡½æ•°

**å®é™…ä¸Šè¿˜ä¼ äº†å‚æ•°è‡ªå·±ï¼Œarr.forEach.call(arr,fn)ï¼Œé€šè¿‡thisè·å¾—äº†è‡ªå·±**

ä»¥ä¸Šç›¸å½“äºï¼š

function forEach(arr,fn){

â€‹    for(let i=0;i<arr.length;i++){

â€‹        //å¯¹åº”value,key

â€‹        fn(arr[i],i);

â€‹    }

}

forEach([1,2,3],function(value,key){

â€‹    console.log(value,key)

})



> ##### sort 
>
> é»˜è®¤ä¸ºä»å°åˆ°å¤§
>
> è°ƒç”¨åä¼šæ”¹å˜åŸæ•°ç»„
>
> ä¼ å…¥çš„å‡½æ•°ï¼Œreturn x-y | return y-x è®°ä¸ä½è¯•ä¸€éå°±å¯ä»¥



var arr = [1,2,3,4,5,6]

arr.sort() ä»å°åˆ°å¤§æ’

arr.sort(function(x,y){return x-y})

arr.sort(function(x,y){return y-x})

ä»¥ä¸Šä¸¤ä¸ªï¼Œä¸€ä¸ªä»å°åˆ°å¤§ä¸€ä¸ªä»å¤§åˆ°å°ï¼Œå¿˜è®°äº†ä¸€è¯•ä¾¿çŸ¥



å¯ä»¥æŒ‰å¯¹è±¡çš„æŸä¸ªå±æ€§æ’åºï¼š

obj.sort(function(a,b){return a.value-b.value});



è‹¥æ•°æ®å†…å®¹ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰asciiç å¯¹åº”æ•°å­—å¤§å°æ¥æ’

var a = new Array("banna","Apple","orange","apple"); a.sort();  console.log(a) 

//è¾“å‡º ["Apple","apple", "banna", "orange"] 

//æ¯”è¾ƒå‡½æ•°ç¼ºçœï¼ŒæŒ‰ç…§å­—æ¯é¡ºåºasciiç å‡åºæ’åº A<a<b<o



> ##### reverse
>
> é¢ å€’æ•°ç»„ä¸­å…ƒç´ é¡ºåºï¼Œä¼šæ”¹å˜åŸæ¥çš„æ•°ç»„å¹¶è¿”å›ï¼Œä¸åˆ›å»ºæ–°æ•°ç»„ã€‚

var a = [1,2,3,4,5,6,7];

a.reverse();

//è¾“å‡º[7,6,5,4,3,2,1]



> ##### join
>
> ç»™æ•°ç»„çš„å€¼ä¹‹é—´æ’å…¥æŸä¸ªå€¼
>
> ä¸ä¼ å‚çš„è¯ï¼Œé»˜è®¤ä¸ºç”¨é€—å·â€˜,â€™æ¥å¡«å……

==æ•°ç»„å¿«é€Ÿå˜å­—ç¬¦ä¸²==

arr = [1,2,3]

arr.join(â€˜,â€™)

å°±å˜ä¸ºâ€œ1,2,3â€



> ##### concat 
>
> è¿æ¥ä¸¤ä¸ªä¸œè¥¿

var a = [1,2,3]

var b = [4,5,6]

var c = a.concat(b) //[1,2,3,4,5,6]



==å¤åˆ¶æ•°ç»„==

var a = [1,2,3]

var acopy = a.concat() | var acopy = a.concat([])

è¿™æ—¶å¤åˆ¶äº†ä¸€ä»½æ•°ç»„ï¼Œä½†æ˜¯ä»–ä»¬ä¸æ˜¯åŒä¸€ä¸ªæ•°ç»„ï¼Œåœ¨å†…å­˜ä¸åŒåŒºåŸŸ



> ##### map
>
> åŠŸèƒ½åŒforEachï¼Œä½†æœ‰è¿”å›å€¼ï¼Œä¸å†™returnä¼šé»˜è®¤ä»¥undefinedä¸ºå€¼çš„æ•°ç»„ã€‚

var a = [1,2,3]

a.map(function(value,key){

â€‹    return value * 2;

})//è¾“å‡º[2,4,6]

æ›´ç®€æ´çš„å†™æ³•ï¼š

a.map(value=>value*2)

ä¹Ÿå¯ä»¥returnå¯¹è±¡

return {

â€‹    v:value,

â€‹    k:key;

}



> ##### filter
>
> è¿‡æ»¤å™¨



var a = [1,2,3,4,5,6,7,8,9,10];

a.filter(function(value,key){

â€‹    return value>=5;

});

//è¿”å›æ•°ç»„ [5,6,7,8,9,10]

a.filter(function(value,key){

â€‹    return value%2===0;

});

//è¿”å›[2,4,6,8,10]



ğŸ’¡tipsï¼šå¯ä»¥å’Œmapä¸€èµ·ç”¨ï¼Œé“¾å¼æ“ä½œ

var a = [1,2,3,4,5,6,7,8,9,10]

a.filter(function(value,key){

â€‹    return value%2===0;

}).map(function(value,key){

â€‹    return value*value;

})

//è¾“å‡º[4,16,36,64,100]



> ##### reduce
>
> è¿™ä¸ªAPIä¸­æ²¡æœ‰keyï¼Œå‚æ•°éƒ½æ˜¯value
>
> æ±‚å’Œ
>
> ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€æ±‚å‡½æ•°ï¼Œ
>
> éœ€æ±‚å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¯ä¸€æ¬¡è¿ç®—åçš„ç»“æœï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–°åŠ å…¥è¿ç®—çš„å€¼
>
> ç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆå§‹å€¼ã€‚



var a = [1,2,3,4,5,6,7,8,9]

a.reduce(function(resule,n){

â€‹    return result + n;

},0)

//è¾“å‡º45ï¼Œä¸º9ä¸ªæ•°ä¹‹å’Œ

æ±‚å’Œå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ€»å’Œï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸‹æ¬¡è¦å¢åŠ çš„å€¼



ğŸ’¡**ç”¨reduceå¯è¡¨ç¤ºmapï¼Œå¯è¡¨ç¤ºfilter**

###### reduceè¡¨ç¤ºmap

var a = [1,2,3]

a.reduce(function(result,n){

â€‹    result.push(n*2);

â€‹    return result;

},[]);

//è¾“å‡º[2,4,6]ï¼ŒæŠŠæ•°ç»„çš„å€¼éƒ½ä¹˜ä»¥2ç„¶åè¾“å‡ºäº†

###### reduceè¡¨ç¤ºfilter

var a = [1,2,3,4,5,6,7,8,9,10]

a.reduce(function(result,n){

â€‹    if(n%2===0){

â€‹        result.push(n);

â€‹    }

â€‹    return result;

},[]);

//è¾“å‡º[2,4,6,8,10]ï¼Œè¿‡æ»¤å‡ºäº†å¶æ•°



### Function

var fn = new Function([arg1,...argN],functionBody)

å¯ä¸ä¼ å‚æ•°ï¼Œä½†è¦ä¼ å‡½æ•°ä½“ï¼Œéƒ½éœ€è¦å˜ä¸ºstringæ ¼å¼



var fn = function(a,b){return a+b;};

var fn = new Function(â€˜aâ€™,â€˜bâ€™,â€˜return a+bâ€™);

ä»¥ä¸Šä¸¤è€…ç›¸åŒ



functionä¸ºå…³é”®å­—ï¼Œå£°æ˜å‡½æ•°ï¼Œæˆ–è¡¨ç¤ºå‡½æ•°ç±»å‹

Functionä¸ºæ„é€ å‡½æ•°



å£°æ˜å‡½æ•°æ–¹å¼ï¼š

1. å…·åå‡½æ•°

   function fn(){};

2. åŒ¿åå‡½æ•°

   var fn = function(){};

3. æ„é€ å‡½æ•°

   var fn = new Function(â€˜aâ€™,â€˜return aâ€™);