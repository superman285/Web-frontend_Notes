#### 计算机如何存储数据

***

<span style="background-color:skyblue;font-weight:700;color:white;">第一步：(内存)如何存储0和1？</span>

类似电池那样存储

**存储**

- 1就充电
- 0就不充电

**读取**

- 电量大于50%就是1
- 电量小于50%就是0

<span style="background-color:skyblue;font-weight:700;color:white;">第二步：如何存储数字？</span>

37~(10)~ = 100101~(2)~      以10为底变成以2为底

37 = 3 * 10^1 + 7*10^0

     = n1\*2^? + n2\*2^? + n3\*2^?

     = 32 + 4 + 1

     = 1*2^5 + 0 + 0 + 1\*2^2 + 0 + 1\*2^0

     = 100101~2~

-37~(10)~ = -100101~(2)~

0.75~10~ = 0.11~2~     以1/10为底变成以1/2为底

0.75 = 7\*1/10^1 + 5*1/10^2

         = n1\*1/2^? + n2\*1/2^?

	 = 0.5 + 0.25 = 1\*1/2 + 1\*1/2^2

	 = 0.11~2~

- 负数会以补码的形式存储
- 小数会以浮点数的形式存储



<span style="background-color:skyblue;font-weight:700;color:white;">第三步：如何存储字符？</span>

**将每个字符编号**

<u>ASCII 美国信息交换标准代码</u>

想存储a，就存97~10~对应的二进制数

a -> 0110 0001~2~ -> 61~16~

想存储1，就存49~10~对应的二进制数

1 -> 0011 0001~2~ -> 31~16~

==注意：此处的1不是数字1而是字符1，是不同的，计算机无法直接存==

==记忆：== a对应的ASCII为97，A对应的ASCII为65

http://pic.pimg.tw/isvincent/4b512eb611a6f.png?v=1263611574 ASCII编码图

<span style="background-color:skyblue;font-weight:700;color:white;">第四步：如何存储中文？</span>

<u>GB2312 中国国家标准简体中文字符集</u>

GB：国标

共收录6763个汉字，同时收录了包括拉丁字母、希腊字母、日文平假名/片假名字母、俄语西里尔字母等682个字符。

后来为了存储生僻字、繁体字、日语、朝鲜语等，微软推出 <u>GBK 字符集</u>

GBK：国标扩



<span style="background-color:skyblue;font-weight:700;color:white;">第五步：如何存储所有字符？全世界的字符</span>

将全球字符编号

<font style="color:dodgerblue;font-weight:bold;"><u>Unicode字符集</u></font> 四个字节32位，可以足够表示世界上任意一个字符

包括中日韩文字、藏文、盲文、楔形文字、颜文字`:-)`、绘文字:joy:等

2016年6月时，Unicode总共有128237个字符。



<span style="background-color:skyblue;font-weight:700;color:white;">第六步：如何将Unicode存到计算机里？</span> 以性价比高的形式将字符存到计算机里

**以一种高性价比的方式**  变长存储

***

**低性价比**

a -> 00000000 00000000 00000000 01100001~2~  =  0061~16~

你 -> 00000000 00000000 01001111 01100000~2~ = 4F60~16~

**高性价比 UTF-8**

a -> 01100001

你 -> 11100100 10111101 10100000



==**UTF8是一种编码方式，不是字符集**==

- 若所需位数<=7，则utf-8用一个字节存，开头是0

- 第一个字节开头的"1"的个数代表这个字符用几字节存

- 后面每个字节都是"10"开头



#### 现实问题

**编码问题**

JS使用了Unicode字符集，但是没有使用UTF-8编码方式，因为JS发明时，UTF-8还未诞生。

所以js有bug，ES5无法表示\uFFFF之后的字符(如\u1D306)，某些情况会出问题。(\u代表unicode)

或者可以表示出来，但是求长度时，是1位但js查出是两位，因为超出了他能承受的范围。