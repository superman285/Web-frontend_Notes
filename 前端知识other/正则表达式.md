#### 正则表达式学习



##### 正则表示方式

字面量写法 var reg = / /;

new对象写法 var reg = new RegExp();



字面量写法不要定义空的规则// 会以为是注释

规则格式为==字符串==，字面量写法不需要带引号，new对象写法需要带引号(正则式和标识符各带各的)。



字面量写法无法带变量，只能带字符串

new全称写法可以带字符串，也可以带变量

##### 正则相关方法

==test==: 正则匹配字符串，匹配成功返回真，匹配失败返回假。

正则式子.test(string)

==match==: 正则匹配字符串，匹配成功就返回成功项组成的数组；匹配不成功则返回null。

string.match(正则式子)

==search==:类似indexOf，匹配成功返回第一次匹配到的索引号，匹配失败返回-1。

string.search(正则式子)

==replace==:匹配字符串，匹配成功的字符串被替换成新字符,返回值为替换字符后的新string

string.replace(正则式子，新字符串)

进阶：string.replace(正则式子,function(param1){})

第一个参数为匹配成功的项的值，可以拿param1.length

**ab写成(a)(b)，就可以由一个母项(无子项)拆成了一个母项(含两个子项)**

函数里的第一个参数就是匹配成功的项，即母项

function(\$0,\$1,\$2) 母项，母项中的第一个子项，母项中的第二个子项



💡注意：如果需要把满足条件的子项放到数组中，就不要加全局匹配标识符g，否则只会匹配到母项加入数组，

不加g就会把匹配到的项、子项(带括号的)都加入数组，加g就只会把匹配到的项加入数组不会把子项加入数组。



==正则特别懒==，默认匹配成功了第一个就停止正则匹配，

如果需要找出全部符合匹配条件的，要加标识符g，g放在正则斜杠之后



##### 转义字符

反斜杠\:

把真正的字符转为转义字符或者把转义字符转为真正的字符。

例如‘\‘’;\n;‘\\.’;new RegExp(“\\\b”+className+“\\\b”)代表原来是\b字符加个斜杠转为独立部分的意思

当需要匹配正则表达式中有含义的特殊符号时，需要在特殊符号前加反斜杠\。

- 普通字母，代表某一类特殊意义的字符

  \n换行 | 

  \s空格 \S非空格 |  `space`

  \d 数字(代表==一个==数字(即一位数),\d\d代表两位数) \D 非数字  `digit`

  \w 字符(数字,字母,下划线\_) \W 非字符(!@#$等) `word`

  \w等价于[A-Za-z0-9_]

  \b 独立部分(或边界) \b放xx前面看是不是起始部分,\b放xx后面看是不是结束部分或者后面有空格

  判断可给前后都加\b | var str=‘class=“nav top”’; var reg=/\bnav\b/; 看nav是不是独立部分

  (即看是否含有类名nav) `border`

  \b的作用常用于以xx结尾，例如/ter\b/可匹配chapter

  或以xx开头，例如/\bact/可匹配active

  \B 非独立部分

  \\. 代表真正的点

. 代表任意单字符

##### 量词

紧跟在某一个字符后，相当于那个字符重复

\+ 至少出现一次，至多无限次。写在不确定个数的转移字符之后，其实相当于{1,}

? 至少0次，至多1次。相当于{0,1}

\* 至少0次，至多无限次。相当于{0,}

{n} 重复n次

{n,}重复至少n次，至多无限

{n,m}重复至少4次，至多9次



##### 标识符

标识符写在正则式最后，反斜杠之后

g 不停匹配到所有

i 忽略大小写 (不加该标识符默认为区分大小写)





写法为 var reg = /a/g;



##### 逻辑符

只有或|，没有与

非的话就是\[^a]，中括号中使用，匹配不是a的东西，而且匹配的是==1个字符==



##### 一些符号的作用，()[]^$

###### 小括号-匹配母项子项

ab写成(a)(b)，就可以由一个母项(无子项)拆成了一个母项(含两个子项)，

或者abcd写成a(b)c(d)，则母项为bd(子项为b和d)，只用子项就可以

供match和replace使用

###### 中括号-匹配一组相似的元素，中括号里面的整体代表一个字符

var str=“abcd”; var reg=/a[bc]d/; [bc]指匹配到b或者c而不是bc

注意💡 /a[bc]d/ 相当于 /abd|acd/

[0-9]匹配一个数字

[a-z]匹配一个小写字母

[A-Z]匹配一个大写字母

[A-Za-z]匹配一个字母(大小写都行)

[A-Za-z]+匹配一个英文单词(不管是不是真正的单词)

[\u4E00-\u9FA5]+ 匹配多个汉字 代表汉字的unicode码

###### ^符代表起始

\^在中括号外表示以x开头，\^a代表以a开头，^[0-9]代表以1个数字开头

^在中括号内表示排除

###### $符代表结束



##### 操作符的运算优先级

| 操作符                    | 描述           |
| ------------------------- | -------------- |
| \                         | 转义符         |
| (), (?:), (?=), []        | 圆括号和方括号 |
| *, +, ?, {n}, {n,}, {n,m} | 限定符         |
| ^, $, \anymetacharacter   | 位置和顺序     |
| \|                        | “或”操作       |