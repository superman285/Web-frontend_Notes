<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            å½“ä¸€ä¸ªå¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œjsä¼šè‡ªåŠ¨çš„ç»™å½“å‰è¿™ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªå±æ€§ï¼š__proto__
            è¿™ä¸ªå±æ€§æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡
        */

        // let obj1 = {};   //å­—é¢é‡ï¼Œå­—é¢é‡å†™æ³•æ˜¯æŸç§å®Œæ•´å†™æ³•çš„ä¸€ç§ç®€å†™å½¢å¼
        // console.log(obj1);

        // let obj2 = new Object();    // Objectæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¸”èƒ½è¢«æ„é€ 
        // console.log(obj2);

        /*
            åœ¨jsä¸­ï¼Œå‡½æ•°æœ¬è´¨ï¼ˆç±»å‹ï¼‰å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå‡½æ•°ä¸‹é¢å°±ä¹Ÿå¯ä»¥æœ‰å±æ€§å’Œæ–¹æ³•
            å…¶ä¸­æœ‰ä¸€ä¸ªå±æ€§ï¼šprototypeï¼Œè¿™ä¸ªå±æ€§çš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡
        */
        // console.dir(Object);

        // function fn1(){
        //     //å†…éƒ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡ let obj = {}
        //     //æŠŠthisç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸­ this = obj; è¿™æ®µä»£ç æ˜¯ç»™å¤§å®¶ç†è§£çš„ï¼Œä¸èƒ½ç›´æ¥æ‰§è¡Œçš„,å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç›´æ¥ç»™thiså»èµ‹å€¼

        //     //é™¤äº†ä¸Šé¢å’Œæœ€åçš„returnï¼Œnewçš„æ—¶å€™å†…éƒ¨è¿˜åšäº†å¾ˆå¤šå…¶ä»–çš„æ˜¯äº‹æƒ…
        //     // this.__proto__ = fn1.prototype;

        //     // æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œç»™thisæ·»åŠ æ•°æ®
        //     this.x = 1;
        //     this.hello = function() {
        //         console.log('hello world');
        //     }

        //     //è¿”å›thisï¼šreturn this 
        // }
        // console.dir(fn1);

        // let f1 = new fn1();
        // console.dir(f1);
        // console.dir(f1.__proto__);
        // console.dir(fn1.prototype);
        // console.log(f1.__proto__ == fn1.prototype);
        
        // let f2 = new fn1();
        // console.dir(f2);
        
        // æ¯æ¬¡newæ„é€ å‡½æ•°å¾—åˆ°çš„å¯¹è±¡è™½ç„¶åˆå§‹åŒ–çš„æ—¶å€™çœ‹èµ·æ¥ä¸€ä¸ªï¼Œä½†æ˜¯å…¶å®åªæ˜¯é•¿å¾—ä¸€æ ·
        // å¦‚æœåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ•°æ®æ¯”è¾ƒå¤šï¼ˆæœ‰å¾ˆå¤šçš„å±æ€§å’Œæ–¹æ³•ï¼‰ï¼Œé€šè¿‡åˆ›å»ºå¾ˆå¤šè¿™æ ·çš„å¯¹è±¡ï¼Œå‡è®¾è¿™äº›å¯¹è±¡ä¸­æœ‰ä¸€äº›ä¸€æ¨¡ä¸€æ ·çš„æ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±ä¼šç…§æˆå†…å­˜æµªè´¹

        /*
            åŒä¸€ç±»å‹çš„å¯¹è±¡å¦‚æœæŸä¸ªå±æ€§æˆ–æ–¹æ³•æ˜¯æ¯ä¸€ä¸ªå…·ä½“å¯¹è±¡ç‹¬ç«‹æ‹¥æœ‰çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠ
            è¿™ä¸ªå±æ€§æˆ–æ–¹æ³•ç›´æ¥èµ‹å€¼ç»™æ¯ä¸€ä¸ªå¯¹è±¡
            å¦‚æœæŸä¸ªå±æ€§æˆ–æ–¹æ³•æ˜¯è¿™ç§ç±»å‹çš„å¯¹è±¡æ‰€å…±æœ‰çš„ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ä¸ªå±æ€§æˆ–æ–¹æ³•æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹
        */

        // function Cat() {
        //     this.name = '';
        //     this.color = '';

        //     // typeå±æ€§æ˜¯Catå…±æœ‰çš„ä¸€ç§å±æ€§
        //     this.type = 'çŒ«';
        // }

        // let xiaohua = new Cat('ğŸ”…', 'yellow');
        // let xiaohei = new Cat('å°é»‘', 'black');

        // xiaohua.type = 'çŒ«å’ª';
        // console.log(xiaohua.type);
        // console.log(xiaohei.type);



        // let g = {
        //     type: 'çŒ«'
        // };
        // function Cat() {
        //     this.name = '';
        //     this.color = '';

        //     // typeå±æ€§æ˜¯Catå…±æœ‰çš„ä¸€ç§å±æ€§
        //     this.global = g;
        // }

        // let xiaohua = new Cat('ğŸ”…', 'yellow');
        // let xiaohei = new Cat('å°é»‘', 'black');

        // g.type = 'çŒ«å’ª';
        // console.log(xiaohua.global.type);
        // console.log(xiaohei.global.type);


        // ä¸ºäº†è§£å†³ä¸Šé¢çš„å…±æœ‰å±æ€§é—®é¢˜
        function Cat(name, color) {
            this.name = name;
            this.color = '';
        }
        Cat.prototype = {
            type: 'çŒ«'
        }; //æ”¾æ‰€æœ‰Catå¯¹è±¡çš„å…±æœ‰å€¼

        let xiaohua = new Cat('ğŸ”…', 'yellow');
        let xiaohei = new Cat('å°é»‘', 'black');

        // console.log(xiaohua.type);
        // console.log(xiaohei.type);

        // è™½ç„¶æ¯ä¸ªå¯¹è±¡ä¸Šé¢å¹¶æ²¡æœ‰ç›´æ¥çš„typeå±æ€§ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥è°ƒç”¨Cat.prototype.type
        // è¿™æ˜¯å› ä¸ºï¼šåŸå‹é“¾ï¼Œç±»ä¼¼ä½œç”¨åŸŸé“¾ï¼ŒåŸå‹å¯¹è±¡æŸ¥æ‰¾çš„ä¸€ç§è§„åˆ™
        
        // xiaohua.__proto__ => Cat.prototype

        /*
            å½“æˆ‘ä»¬å»è°ƒç”¨å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•çš„æ—¶å€™ 
                1. jsä¼šé¦–å…ˆåœ¨è¯¥å¯¹è±¡è‡ªèº«ä¸ŠæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨è¯¥å±æ€§æˆ–æ–¹æ³•ï¼Œå¦‚æœæœ‰åˆ™è¿”å›æˆ–è°ƒç”¨
                2. å½“è¯¥å¯¹è±¡è‡ªèº«ä¸Šä¸å­˜åœ¨è¯¥å±æ€§æˆ–æ–¹æ³•çš„æ—¶å€™ï¼Œjsä¼šè‡ªåŠ¨å»è¯¥å¯¹è±¡çš„__proto__å±æ€§å»æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å¯¹åº”çš„å±æ€§æˆ–æ–¹æ³•
        */
        // console.log(xiaohua.name);

        // xiaohua.type => xiaohua.__proto__.type == Cat.prototype.type
        console.log(xiaohua.type);
        console.log(xiaohei.type);

        xiaohua.type = 'å°çŒ«å’ª';

        console.log(xiaohua.type);
        console.log(xiaohei.type);
        
    </script>
</body>
</html>